"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6155],{56155:function(e,l,t){var n=t(85893),i=t(94184),s=t.n(i),a=t(67294),o=t(5152),r=t.n(o),d=t(11163),c=t.n(d),u=t(21894),f=t(5898),p=t(3342),m=t(72321),v=t(88028),x=t(41220),C=t(95453),h=t(65736),w=t(85210),g=t(24106),j=t(40442),y=t(27895),I=t.n(y),b=t(33320),N=t(69707),S=t(92400),E=t(21197),Z=t(31955),_=t(40676),O=t(34531),k=t(23484),M=t(1686),T=t(51269),A=t(32030),D=t(68445),R=t(75608),P=t(27937),V=t(11803);let K=()=>(0,n.jsx)("div",{className:"fixed z-50 flex items-center justify-center p-3 text-center w-80 h-80",children:(0,n.jsx)(M.Z,{})}),F=r()(()=>t.e(7701).then(t.bind(t,37701)),{loadableGenerated:{webpack:()=>[37701]},loading:K}),L=e=>{let{modalView:l,closeModal:t}=e;return(0,n.jsx)(h.Z,{onClose:t,children:"NOTIFY_USER"===l&&null})},U=e=>{let{deviceInfo:l}=e,{displayModal:t,closeModal:i,modalView:s,notifyUser:a,productId:o}=(0,f.l8)();return a?(0,n.jsx)(S.Z,{deviceInfo:l}):t?(0,n.jsx)(L,{modalView:s,closeModal:i}):null},W=e=>{let{sidebarView:l,closeSidebar:t,config:i,deviceInfo:s}=e;return(0,n.jsxs)(w.Z,{onClose:t,deviceInfo:s,children:["CART_VIEW"===l&&(0,n.jsx)(v.Z,{config:i,deviceInfo:s}),"WISHLIST_VIEW"===l&&(0,n.jsx)(x.Z,{})]})},B=e=>{let{config:l,deviceInfo:t}=e,{displaySidebar:i,closeSidebar:s,sidebarView:a}=(0,f.l8)();return i?(0,n.jsx)(W,{sidebarView:a,closeSidebar:s,config:l,deviceInfo:t}):null},G=e=>{var l;let{children:t,config:i,pageProps:o,keywords:r,deviceInfo:v}=e,[x,h]=(0,a.useState)(!1);null==o||o.categories;let w=(0,N.rV)("navTree")||{nav:[],footer:[]},[y,S]=(0,a.useState)(!1),[M,K]=(0,a.useState)(w),{isOnlyMobile:L}=v,{setAppConfig:W,closeSidebar:G,openCart:H,sidebarView:J,user:Y,isGuestUser:z,setSidebarView:X,appVersionData:q}=(0,f.l8)(),Q=!z&&(null==Y?void 0:Y.userId)&&(null==Y?void 0:Y.userId)!==_.Q15||!1,$=(0,A.YX)("sidebarType"),ee=null!=q&&!!q.showloginprompt&&(0,D.hb)(null==q?void 0:q.showloginprompt),el=(0,d.useRouter)(),et=!!((null==el?void 0:null===(l=el.query)||void 0===l?void 0:l.channelStore)||(0,N.rV)(R.mM.Key.IS_OFFLINE_STORE)),en=()=>{(null==q?void 0:q.loginpopuptime)&&setTimeout(()=>{X("LOGIN_PROMPT_MODAL_VIEW"),(0,A.nz)(_.eZO,!0)},parseInt(null==q?void 0:q.loginpopuptime,10))};(0,a.useEffect)(()=>{let e=(0,A.YX)(_.eZO);!ee||e||Q||!L||et||en()},[ee]),(0,a.useEffect)(()=>{let e=async()=>{try{let e=await (0,b.Y)(_.nin);K(e),(0,N.LS)("navTree",e)}catch(e){console.error(":: error ",e)}};e(),W(i)},[]),(0,a.useEffect)(()=>{if(c().events.on("routeChangeStart",()=>S(!0)),c().events.on("routeChangeComplete",()=>S(!1)),!Z.Z.get(R.mM.Key.userEncryptedDetails)){var e;let l=null!==(e=null==localStorage?void 0:localStorage.getItem(R.mM.Key.userEncryptedDetails))&&void 0!==e?e:"";l&&Z.Z.set(R.mM.Key.userEncryptedDetails,l)}},[]);let{acceptedCookies:ei,onAcceptCookies:es}=(0,C.X)(),{locale:ea="en-US",asPath:eo,...er}=(0,d.useRouter)(),ed=M.nav.sort((e,l)=>e.displayOrder-l.displayOrder);(0,a.useEffect)(()=>{if(!L){let e=null==eo?void 0:eo.includes("/cart"),l=null==eo?void 0:eo.includes("#cartopen");l&&!e?(""===J||"CART_VIEW"===J)&&H():G()}},[eo,J]),(0,a.useEffect)(()=>{let e=null==eo?void 0:eo.includes("#loginOpen");if(Q){if(e){let e=null==eo?void 0:eo.replaceAll("#loginOpen","");null===c()||void 0===c()||c().replace({pathname:e},e,{shallow:!0,scroll:!1})}}else e?X($):(null==$?void 0:$.includes("LOGIN"))&&X("")},[eo]);let ec=async()=>{let e=await P.xk.hasStarted();if(e){let e=(null==Y?void 0:Y.mobile)||(null==Y?void 0:Y.telephone)||(null==Y?void 0:Y.phone)||(null==Y?void 0:Y.username);P.xk.setTag("user",(0,V.HI)(null==e?void 0:e.toString()))}},eu=async e=>{var l,t;let n=(0,V.HI)(JSON.stringify({username:e})),i=await j.yr.refreshPageContent({data:{detailedInfo:n,isChannelStore:et}}),s=(null==i?void 0:null===(l=i.data)||void 0===l?void 0:l.result)&&JSON.parse((0,V.pe)(null==i?void 0:null===(t=i.data)||void 0===t?void 0:t.result));(null==s?void 0:s.userToken)&&(Z.Z.set(R.mM.Key.userEncryptedDetails,null==s?void 0:s.userToken),localStorage.setItem(R.mM.Key.userEncryptedDetails,null==s?void 0:s.userToken))};(0,a.useEffect)(()=>{(null==Y?void 0:Y.userId)&&Q&&((null==localStorage?void 0:localStorage.getItem(R.mM.Key.userEncryptedDetails))||eu(Y.username),ec())},[Q,null==Y?void 0:Y.userId]);let ef=(0,D.hb)(Z.Z.get(_.D3i));return(0,n.jsxs)(u.SN,{locale:ea,children:[y&&(0,n.jsx)(O.Z,{}),(0,n.jsx)(T.F,{isMobile:v.isMobile}),(0,n.jsxs)("div",{className:s()(I().root),"data-id":"layout-with-top-strip",children:[(0,n.jsx)(p.Z,{currencies:null==i?void 0:i.currencies,config:ed,languages:null==i?void 0:i.languages,keywords:r,deviceInfo:v},"navbarKeyId"),(0,n.jsx)("main",{className:"fit",children:t}),(0,n.jsx)(m.Z,{config:M.footer,deviceInfo:v}),(0,n.jsx)(U,{deviceInfo:v}),(0,n.jsx)(B,{config:i,deviceInfo:v}),(0,n.jsx)(F,{title:k.i4c,hide:ei,action:(0,n.jsx)(g.Z,{className:"mx-5",onClick:()=>es(),children:k.GJ9})})]}),x&&ef&&(0,n.jsx)(E.Z,{deviceInfo:v,modalTitle:"Relogin",show:ef&&x,isOnlyMobile:L,close:()=>{h(!1),Z.Z.set(_.D3i,"")}})]})};l.Z=G},51269:function(e,l,t){t.d(l,{F:function(){return g}});var n=t(85893),i=t(67294),s=t(53875),a=t(88053),o=t(44900),r=t(40676),d=t(85518),c=t(47994),u=t(41664),f=t.n(u),p=t(51384),m=t(22546),v=t(23484);t(93997),t(27693);var x=t(31543),C=t(5898);let h=e=>{let{cate:l,categoryidx:t,user:n}=e,i=null==l?void 0:l.offerstrip_link,s=null==l?void 0:l.offerstrip_heroimage,a=null==l?void 0:l.offerstrip_mobileheroimage,o=null==l?void 0:l.offerstrip_title,u={current_page:(0,c.FZ)()||"",position:t,banner_name:d.UA&&""!==a?(0,c.Og)(a):(0,c.Og)(s),component_type:"image",component_name:"offerstrip",loggedin_status:!!((null==n?void 0:n.userId)&&(null==n?void 0:n.userId)!==r.Q15),url:d.UA&&""!==a?a:s,device:d.UA?"Mobile":"Web"};return{bannersData:u,link:i,title:o,mobileImage:a,webImage:s}},w=e=>{let{activeTopStripOffers:l,handleRecordGA4Event:t}=e,{user:i}=(0,C.l8)(),o=e=>{(0,a.w)(window,s.w.BANNER_CLICK,e)},r=h({user:i,cate:void 0,categoryidx:0});return(0,n.jsxs)(m.tq,{slidesPerView:1,navigation:!1,loop:!1,freeMode:!0,modules:[p.pt,p.tl],autoplay:{delay:4e3,disableOnInteraction:!1},pagination:{dynamicBullets:!0},className:"mySwiper h-[20vw] sm:h-[20vw] md:h-auto",children:[(0,n.jsx)("div",{children:(0,n.jsx)(m.o5,{onClick:()=>o(r.bannersData),children:(0,n.jsx)(x.Z,{title:"Top Offer Strip",eventName:s.w.BANNER_IMPRESSIONS,bannerData:r.bannersData,children:(0,n.jsx)("div",{className:"bg-black text-white w-full h-[20vw] sm:h-[20vw] md:h-auto py-3 px-4 sm:px-4 lg:px-0 text-sm font-medium z-999 text-center mx-auto w-full download-banner-wrapper",children:(0,n.jsxs)("div",{className:"relative max-w-full flex justify-between items-center mx-auto sm:max-w-full max-w-50",children:[(0,n.jsxs)("div",{className:"flex items-center gap-x-2",children:[(0,n.jsxs)("svg",{width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,n.jsx)("rect",{width:"48",height:"48",rx:"8",fill:"white"}),(0,n.jsx)("path",{d:"M16.5553 16C16.7379 16.013 16.9202 16.0285 17.1029 16.0386C18.136 16.0964 19.1503 16.2468 20.129 16.5705C22.1537 17.2402 23.4421 18.554 24.0544 20.458C24.2983 21.2164 24.4238 21.9933 24.4817 22.7815C24.5353 23.51 24.5359 24.2382 24.4784 24.9663C24.3958 26.0128 24.195 27.0354 23.7643 28.0114C23.0064 29.729 21.6754 30.8808 19.7936 31.4867C18.9208 31.7677 18.0192 31.9168 17.099 31.9617C16.5846 31.9869 16.0689 31.9948 15.5537 31.9973C14.4591 32.0023 13.3645 31.9988 12.2699 31.9988C12.1931 31.9988 12.1162 31.9988 12.0272 31.9988C12.0171 31.9449 12.0051 31.9024 12.0022 31.8595C11.9982 31.8006 12.0009 31.7413 12.0009 31.6822C12.0009 26.5525 12.0008 21.423 12.0018 16.2934C12.0018 16.1955 12.0145 16.0978 12.0213 16C13.5326 16 15.044 16 16.5553 16ZM15.0363 17.7373C15.0363 21.9249 15.0363 26.0918 15.0363 30.2538C15.063 30.2631 15.0758 30.2714 15.0884 30.2712C15.8715 30.2632 16.6564 30.3202 17.4369 30.2271C18.3069 30.1234 19.0838 29.8261 19.719 29.2454C20.1333 28.8666 20.4333 28.4178 20.6625 27.9252C20.9849 27.2323 21.1587 26.5024 21.25 25.7568C21.4079 24.4668 21.418 23.1755 21.2139 21.8879C21.0991 21.1636 20.8974 20.4615 20.5326 19.8073C20.0656 18.9701 19.3768 18.3576 18.4199 18.0226C17.9138 17.8454 17.3872 17.7503 16.848 17.7367C16.2834 17.7224 15.7183 17.7301 15.1534 17.7288C15.1193 17.7289 15.0851 17.7338 15.0363 17.7373Z",fill:"black"}),(0,n.jsx)("path",{d:"M31.0119 16C31.1385 16.0129 31.2647 16.0297 31.3915 16.038C32.133 16.0868 32.8573 16.2091 33.5482 16.4751C35.0282 17.0449 35.8053 18.0988 35.962 19.5726C35.9908 19.8437 35.9982 20.1177 35.9984 20.3904C36.001 23.1354 36 25.8804 36 28.6255C36 28.7035 36 28.7815 36 28.87C35.0257 28.87 34.0764 28.87 33.1079 28.87C33.1079 28.4797 33.1079 28.0962 33.1079 27.7018C32.9923 27.7067 32.9432 27.7795 32.8825 27.8269C32.2378 28.3296 31.5127 28.6838 30.6925 28.8542C29.82 29.0353 28.9433 29.068 28.0757 28.8355C26.6932 28.465 25.8957 27.5917 25.6392 26.2785C25.5307 25.7232 25.5421 25.1652 25.6718 24.6115C25.8631 23.7951 26.341 23.1672 27.0909 22.7195C27.6939 22.3596 28.3614 22.1552 29.0591 22.0433C30.2983 21.8445 31.5408 21.6627 32.7818 21.4732C32.8578 21.4616 32.9327 21.444 33.025 21.4259C33.025 21.3154 33.025 21.2099 33.025 21.1043C33.025 20.8045 33.0255 20.5046 33.0246 20.2048C33.0235 19.8349 32.9611 19.4753 32.808 19.1325C32.5014 18.4462 31.923 18.0787 31.1718 17.9216C30.5593 17.7934 29.9421 17.8196 29.3264 17.898C28.4389 18.0109 27.5962 18.2618 26.7959 18.6386C26.7652 18.6531 26.7324 18.6639 26.6999 18.6767C26.6507 18.5329 26.6327 16.9794 26.6759 16.5409C26.9437 16.472 27.2201 16.3901 27.5018 16.3304C28.2725 16.1674 29.0514 16.0561 29.8428 16.0318C29.92 16.0295 29.9965 16.0112 30.0734 16.0002C30.3862 16 30.6991 16 31.0119 16ZM33.017 23.1053C32.9628 23.1053 32.9278 23.1024 32.8935 23.1057C32.1165 23.1804 31.3395 23.2547 30.5628 23.3314C30.1519 23.372 29.7473 23.438 29.3713 23.6109C28.9375 23.8102 28.6537 24.1258 28.5346 24.5653C28.4119 25.0185 28.4139 25.4746 28.5273 25.9291C28.6997 26.6194 29.1735 27.018 29.9062 27.1533C30.3502 27.2353 30.7974 27.2214 31.2414 27.1517C31.8886 27.0502 32.4792 26.8182 33.017 26.4551C33.017 25.3434 33.017 24.2332 33.017 23.1053Z",fill:"black"}),(0,n.jsx)("path",{d:"M35.9884 32C32.5021 32 29.0417 32 25.5654 32C25.5654 31.6702 25.5654 31.3488 25.5654 31.0128C25.6469 31.0086 25.7289 31.001 25.811 31.0008C26.2333 30.9995 26.6558 31.0002 27.0781 31.0002C29.9416 31.0002 32.8052 31.0001 35.6687 31.0003C36.0031 31.0003 36.0005 30.9872 36.0002 31.1801C35.9998 31.4049 36.0006 31.6296 35.9996 31.8544C35.9994 31.8972 35.9932 31.9399 35.9884 32Z",fill:"#EC5E28"})]}),(0,n.jsxs)("div",{className:"flex flex-col justify-start items-center w-70 lg:w-full",children:[(0,n.jsx)("span",{className:"w-full text-left text-sm font-semibold text-white max-w-95 lg:max-w-full",children:"DaMENSCH APP"}),(0,n.jsx)("span",{className:"w-full text-left font-light text-xs text-white max-w-95 lg:max-w-full",children:"Easy Checkout & Free Shipping in App"})]})]}),(0,n.jsx)("div",{id:"downloadApp",className:"absolute right-0 flex justify-center items-center w-35 lg:max-w-full",onClick:()=>{t()},children:(0,n.jsx)("a",{id:"downloadAppLink",href:"https://damensch.co.in/top-strip",target:"_blank",children:(0,n.jsx)("button",{className:"bg-orange text-white px-2 sm:px-2 lg:px-4 py-3 rounded-sm text-xs font-semibold",children:"Download App"})})})]})},0)})},"".concat(0))},0),l&&(null==l?void 0:l.map((e,l)=>{let{bannersData:t,link:a,title:r,mobileImage:u,webImage:p}=h({cate:e,categoryidx:l,user:i});return(0,n.jsx)("div",{children:(0,n.jsx)(m.o5,{onClick:()=>o(t),children:(0,n.jsx)(x.Z,{title:"Top Offer Strip",eventName:s.w.BANNER_IMPRESSIONS,bannerData:t,children:(0,n.jsx)(f(),{legacyBehavior:!0,href:"/".concat((0,c.NS)(a)),passHref:!0,children:(0,n.jsx)("div",{className:"relative flex flex-col w-full rounded",children:(0,n.jsx)("div",{className:"relative flex-1",children:d.UA?(0,n.jsx)(n.Fragment,{children:""!=u?(0,n.jsx)("img",{src:u||v.jpm,style:{width:"100%"},alt:r||"home banner",className:"h-[20vw] sm:h-[20vw] md:h-auto"}):(0,n.jsx)("img",{src:p||v.jpm,alt:r||"home banner"})}):(0,n.jsx)("img",{src:p||v.jpm,alt:r||"home banner"})})})})})},"".concat(l))},l+1)}))]})},g=e=>{let{isMobile:l}=e,[t,c]=(0,i.useState)([]),{setAppVersionData:u}=(0,C.l8)(),f=()=>{(0,a.w)(window,s.w.TOP_STRIP,{action:"app_download"})},p=async()=>{let{data:e}=await o.Z.get(r.hIf,{params:{slug:r.JiC,workingVersion:!0,channel:"Web"}});u(e),d.UA&&(null==e?void 0:e.offerstrip)&&c([...null==e?void 0:e.offerstrip])};return(0,i.useEffect)(()=>{p()},[]),(0,n.jsx)("div",{className:"top-strip-active-offers-wrapper",children:(0,n.jsx)(w,{activeTopStripOffers:t,handleRecordGA4Event:f})})}}}]);
//# sourceMappingURL=6155-a7f26f47c8671ac0.js.map